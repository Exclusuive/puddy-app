# PUDDY 앱 기능 정리 문서

## 📋 목차
1. [사용자 인증 및 계정 관리](#1-사용자-인증-및-계정-관리)
2. [반려견 등록 및 관리](#2-반려견-등록-및-관리)
3. [코 사진 인증 시스템](#3-코-사진-인증-시스템)
4. [건강 관리](#4-건강-관리)
5. [실종 신고 및 찾기](#5-실종-신고-및-찾기)
6. [보험 정보 관리](#6-보험-정보-관리)
7. [기타 기능](#7-기타-기능)

---

## 1. 사용자 인증 및 계정 관리

### 1.1 구글 로그인
- **기능**: 구글 계정을 통한 소셜 로그인
- **데이터**: 
  - 사용자 이메일
  - 사용자 이름
  - 구글 ID
  - 프로필 사진 URL
  - 마지막 로그인 시간
- **상태 관리**: `authStore`를 통한 인증 상태 관리
- **자동 로그인**: 앱 시작 시 자동 로그인 확인

### 1.2 마이페이지
- **프로필 정보 표시**: 이메일 주소 표시
- **프로필 수정**: 사용자 정보 수정 (준비 중)
- **알림 설정**: 푸시 알림 설정 (준비 중)
- **고객 지원**:
  - 문의하기
  - 공지사항
- **로그아웃**: 계정 로그아웃 기능

---

## 2. 반려견 등록 및 관리

### 2.1 반려견 등록
- **등록 프로세스**:
  1. "강아지 등록하기" 버튼 클릭
  2. 코 사진 촬영 화면으로 이동
  3. 코 사진 촬영 및 등록
  4. 반려견 기본 정보 입력 (이름, 생년월일, 성별, 품종 등)
  5. 정부 발급 동물등록번호 입력 (선택적)
- **고유 ID 생성**: `000-000-0000000` 형식의 앱 내부 고유 등록번호 자동 생성
- **정부 동물등록번호**: 정부에서 발급한 공식 동물등록번호 (15자리, 예: 410-1234-5678-9012) 선택적 입력

### 2.2 반려견 정보 관리
- **기본 정보**:
  - 이름
  - 등록번호 (앱 내부 고유 ID: 000-000-0000000 형식)
  - 정부 동물등록번호 (15자리, 선택적)
  - 생년월일 (나이 자동 계산)
  - 성별 (수컷/암컷)
  - 품종
  - 프로필 이미지
- **상태 관리**:
  - 등록 완료
  - 실종 중
- **반려견 상세 화면**: 
  - 기본 정보 표시
  - 앱 내부 등록번호 및 정부 동물등록번호 표시
  - 코 사진 인증 상태 확인
  - 상태 배지 표시

### 2.3 반려견 목록
- **홈 화면**: 등록된 반려견 카드 형태로 표시
- **캐러셀 형식**: 여러 반려견 등록 시 좌우 스와이프로 이동
- **반려견 카드 정보**:
  - 프로필 이미지
  - 등록번호 (앱 내부 고유 ID)
  - 정부 동물등록번호 (입력된 경우 표시)
  - 이름 / 성별
  - 생년월일 (나이 포함)
  - 품종
  - 상태 배지 (등록 완료/실종 중)

---

## 3. 코 사진 인증 시스템

### 3.1 코 사진 촬영
- **촬영 화면**: 
  - 카메라 권한 요청
  - 코 위치 가이드 원 표시
  - 실시간 카메라 프리뷰
- **촬영 기능**:
  - 사진 촬영
  - 촬영 후 미리보기
  - 재촬영 가능
  - 등록하기

### 3.2 코 사진 등록 및 인증
- **등록 프로세스**:
  1. 코 사진 촬영
  2. 이미지 업로드
  3. 이미지 해시값 생성 (중복 검사용)
  4. 데이터베이스 저장
  5. 인증 완료 상태 업데이트
- **인증 상태**:
  - 인증 완료: ✓ 표시
  - 미인증: ✗ 표시

### 3.3 코 사진 활용
- **신원 인증**: 반려견 신원 확인 시 코 사진으로 매칭
- **유기견 발견**: 발견한 유기견의 코 사진으로 주인 찾기
- **실종 신고**: 실종 신고 시 등록된 코 사진 정보 활용

---

## 4. 건강 관리

### 4.1 예방접종 관리
- **기록 조회**: 
  - 예방접종 목록 화면
  - 최신순 정렬
  - 상세 정보 확인
- **기록 상세 정보**:
  - 백신 종류
  - 접종일
  - 다음 접종 예정일
  - 수의사 이름
  - 동물병원 이름
  - 메모
- **기록 추가**: 새로운 예방접종 기록 추가 (준비 중)
- **알림 기능**: 다음 접종 예정일 알림 (준비 중)

### 4.2 진료 기록 관리
- **기록 조회**:
  - 진료 기록 목록 화면
  - 최신순 정렬
  - 상세 정보 확인
- **기록 상세 정보**:
  - 방문일
  - 동물병원 이름
  - 수의사 이름
  - 진단명
  - 치료 내용
  - 처방전
  - 비용
  - 메모
- **기록 추가**: 새로운 진료 기록 추가 (준비 중)

### 4.3 건강 기록 관리
- **기록 타입**:
  - 건강 기록
  - 사진 기록
  - 기타 기록
- **기록 정보**:
  - 제목
  - 내용
  - 기록 날짜
  - 체중 (kg)
  - 체온
  - 메모
  - 첨부 사진
- **기록 추가**: 건강/사진 기록 추가 (준비 중)

### 4.4 건강 화면
- **예방접종 알림**: 다음 예방접종까지 남은 일수 표시 및 알림 등록
- **건강 기록 추가**: 오늘의 건강/사진 기록 추가 버튼
- **긴급 연락처 등록**: 실종 대비 긴급 연락처 등록

---

## 5. 실종 신고 및 찾기

### 5.1 실종 신고
- **신고 프로세스**:
  1. 실종 반려견 선택 (여러 반려견 등록 시)
  2. 실종 일시 입력 (날짜, 시간)
  3. 실종 장소 입력
  4. 실종 당시 특징 및 메모 입력
  5. 연락처 입력
  6. 참고 사진 업로드 (선택)
  7. 신고 접수
- **신고 정보**:
  - 실종 반려견 정보
  - 실종 일시
  - 실종 장소
  - 설명/특징
  - 연락처
  - 참고 사진
- **상태 관리**:
  - 실종 중
  - 발견됨
  - 종료

### 5.2 유기견 발견
- **기능**: 유기견을 발견했을 때 주인을 찾는 기능
- **프로세스**:
  1. "유기견 발견" 카드 클릭
  2. 발견한 유기견의 코 사진 촬영
  3. 코 사진으로 데이터베이스 매칭
  4. 매칭된 반려견 정보 확인
  5. 주인에게 연락

### 5.3 신원 인증
- **기능**: 반려견 신원 인증이 필요할 때 사용
- **프로세스**:
  1. "신원 인증하기" 카드 클릭
  2. 반려견의 코 사진 촬영
  3. 등록된 코 사진과 매칭
  4. 인증 결과 확인

---

## 6. 보험 정보 관리

### 6.1 보험 정보 관리
- **보험 정보 조회**:
  - 보험사 정보
  - 보험 번호
  - 플랜명
  - 보험 기간 (시작일 ~ 종료일)
  - 보장 내용
  - 보험료
  - 메모
- **보험 정보 추가**: 새로운 보험 정보 등록 (준비 중)

### 6.2 청구 내역 관리
- **청구 내역 조회**:
  - 청구일
  - 보험사
  - 보험 번호
  - 청구 유형
  - 치료 내용
  - 청구 금액
  - 승인 금액
  - 상태 (승인 완료/대기 중 등)
  - 메모
- **청구 내역 추가**: 새로운 청구 내역 등록 (준비 중)

---

## 7. 기타 기능

### 7.1 알림 기능
- **알림 아이콘**: 헤더에 알림 버튼 표시
- **알림 종류**:
  - 예방접종 알림
  - 실종 신고 관련 알림
  - 기타 시스템 알림

### 7.2 네비게이션
- **하단 네비게이션 바**:
  - 건강 관리 탭
  - 홈 탭
  - 마이페이지 탭
- **화면 전환**: 모달 형식으로 상세 화면 표시

### 7.3 데이터 관리
- **로컬 상태 관리**: Zustand를 통한 상태 관리
- **인증 상태**: `authStore`를 통한 인증 상태 관리
- **데이터 저장**: (백엔드 연동 준비 중)

---

## 📊 데이터 흐름 요약

### 주요 엔티티 관계
1. **Users** → **Pets**: 한 사용자가 여러 반려견 등록 가능
2. **Pets** → **NosePrints**: 한 반려견이 여러 코 사진 등록 가능
3. **Pets** → **Vaccinations**: 예방접종 기록
4. **Pets** → **MedicalRecords**: 진료 기록
5. **Pets** → **HealthRecords**: 건강 기록
6. **Pets** → **Photos**: 사진 기록
7. **Pets** → **MissingReports**: 실종 신고
8. **Users** → **EmergencyContacts**: 긴급 연락처
9. **Vaccinations** → **VaccinationReminders**: 예방접종 알림

### 주요 기능별 데이터 요구사항

#### 반려견 등록
- 반려견 기본 정보 (이름, 생년월일, 성별, 품종)
- 정부 동물등록번호 (15자리, 선택적)
- 코 사진 이미지
- 프로필 이미지

#### 예방접종 관리
- 백신 종류
- 접종일
- 다음 접종 예정일
- 수의사/동물병원 정보
- 메모

#### 진료 기록 관리
- 방문일
- 동물병원/수의사 정보
- 진단명
- 치료 내용
- 처방전
- 비용
- 메모

#### 보험 정보 관리
- 보험사 정보
- 보험 번호
- 플랜 정보
- 보험 기간
- 보장 내용
- 보험료
- 청구 내역

#### 실종 신고
- 실종 반려견 정보
- 실종 일시
- 실종 장소
- 설명
- 연락처
- 참고 사진

---

## 🔄 향후 개발 예정 기능

1. **기록 추가 화면**: 예방접종, 진료기록, 보험정보 추가 화면 구현
2. **건강 기록 추가 화면**: 건강/사진 기록 추가 화면 구현
3. **프로필 수정**: 사용자 프로필 수정 기능
4. **알림 설정**: 푸시 알림 설정 화면
5. **코 사진 매칭 API**: AI/ML을 통한 코 사진 매칭 기능
6. **이미지 업로드**: S3 또는 클라우드 스토리지 연동
7. **백엔드 API 연동**: 실제 데이터베이스 연동
8. **실종 신고 공유**: 실종 신고를 다른 사용자들과 공유하는 기능

---

## 📝 참고사항

- 현재 대부분의 기능이 UI만 구현되어 있으며, 실제 API 연동은 준비 중입니다.
- 샘플 데이터를 사용하여 화면 구성 및 데이터 흐름을 확인할 수 있습니다.
- ERD.md 파일에 데이터베이스 스키마 설계가 상세히 정의되어 있습니다.

